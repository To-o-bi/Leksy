{"version":3,"file":"ProductCard-D2uh7JqJ.js","sources":["../../src/components/product/ProductDetail.jsx","../../src/components/product/ProductCard.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { useCart } from '../../hooks/useCart';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { WishlistContext } from '../../contexts/WishlistContext';\r\nimport Notification from '../common/Notification';\r\n\r\n// HTML entity decoder helper function\r\nconst decodeHtmlEntities = (text) => {\r\n  if (!text || typeof text !== 'string') return text;\r\n  \r\n  const entityMap = {\r\n    '&amp;': '&',\r\n    '&lt;': '<',\r\n    '&gt;': '>',\r\n    '&quot;': '\"',\r\n    '&#039;': \"'\",\r\n    '&apos;': \"'\",\r\n    '&#x27;': \"'\",\r\n    '&#x2F;': '/',\r\n    '&#x60;': '`',\r\n    '&#x3D;': '='\r\n  };\r\n  \r\n  return text.replace(/&[#\\w]+;/g, (entity) => {\r\n    return entityMap[entity] || entity;\r\n  });\r\n};\r\n\r\nconst ProductDetail = ({ product, isModal = false }) => {\r\n  const { addToCart } = useCart();\r\n  const navigate = useNavigate();\r\n  const [quantity, setQuantity] = useState(1);\r\n  const [notification, setNotification] = useState(null);\r\n  const [selectedImage, setSelectedImage] = useState(0);\r\n\r\n  // Use WishlistContext instead of localStorage\r\n  const { wishlist, addToWishlist, removeFromWishlist } = useContext(WishlistContext) || {};\r\n\r\n  // Normalize product data to handle different API structures\r\n  const normalizedProduct = React.useMemo(() => {\r\n    if (!product) return null;\r\n    \r\n    return {\r\n      id: product.product_id || product.id || product._id,\r\n      name: decodeHtmlEntities(product.name || product.title || product.product_name || 'Unknown Product'),\r\n      price: parseFloat(product.price) || parseFloat(product.cost) || 0,\r\n      originalPrice: product.slashed_price ? parseFloat(product.slashed_price) : undefined,\r\n      description: decodeHtmlEntities(product.description || product.desc || ''),\r\n      image: product.images?.[0] || product.image || '/placeholder-image.jpg',\r\n      images: product.images || (product.image ? [product.image] : ['/placeholder-image.jpg']),\r\n      category: decodeHtmlEntities(product.category || product.category_name || 'Uncategorized'),\r\n      brand: decodeHtmlEntities(product.brand || product.manufacturer || ''),\r\n      stock: parseInt(product.available_qty) || parseInt(product.stock) || parseInt(product.inventory) || 0,\r\n      rating: parseFloat(product.rating) || 0,\r\n      reviews: product.reviews || [],\r\n      benefits: product.key_benefits || product.benefits || product.features || [],\r\n      isNew: product.isNew || product.is_new || false,\r\n      discount: product.discount || (product.slashed_price && product.price ? \r\n        Math.round(((product.slashed_price - product.price) / product.slashed_price) * 100) : 0)\r\n    };\r\n  }, [product]);\r\n\r\n  // Check if product is in wishlist using context\r\n  const isInWishlist = React.useMemo(() => {\r\n    if (!normalizedProduct?.id || !Array.isArray(wishlist)) return false;\r\n    return wishlist.some(item => \r\n      (item.id || item.product_id || item._id) === normalizedProduct.id\r\n    );\r\n  }, [wishlist, normalizedProduct?.id]);\r\n\r\n  // Don't render if no valid product data\r\n  if (!normalizedProduct || !normalizedProduct.id) {\r\n    return (\r\n      <div className=\"container mx-auto px-4 py-8 text-center\">\r\n        <div className=\"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded\">\r\n          <h3 className=\"font-bold\">Product data not available</h3>\r\n          <p>Unable to load product information. Please try again.</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const productImages = normalizedProduct.images?.length > 0 \r\n    ? normalizedProduct.images \r\n    : [normalizedProduct.image || '/placeholder-image.jpg'];\r\n\r\n  const handleQuantityChange = (e) => {\r\n    const value = parseInt(e.target.value);\r\n    if (value > 0 && value <= (normalizedProduct.stock || 10)) {\r\n      setQuantity(value);\r\n    }\r\n  };\r\n\r\n  const incrementQuantity = () => {\r\n    if (quantity < (normalizedProduct.stock || 10)) {\r\n      setQuantity(quantity + 1);\r\n    }\r\n  };\r\n\r\n  const decrementQuantity = () => {\r\n    if (quantity > 1) {\r\n      setQuantity(quantity - 1);\r\n    }\r\n  };\r\n\r\n  const handleAddToCart = () => {\r\n    addToCart({\r\n      id: normalizedProduct.id,\r\n      name: normalizedProduct.name,\r\n      price: normalizedProduct.price,\r\n      image: productImages[0],\r\n      quantity,\r\n    });\r\n\r\n    setNotification({\r\n      type: 'success',\r\n      message: 'Product added to cart!',\r\n    });\r\n\r\n    setTimeout(() => {\r\n      setNotification(null);\r\n    }, 3000);\r\n  };\r\n\r\n  const handleCheckoutNow = () => {\r\n    addToCart({\r\n      id: normalizedProduct.id,\r\n      name: normalizedProduct.name,\r\n      price: normalizedProduct.price,\r\n      image: productImages[0],\r\n      quantity,\r\n    });\r\n    navigate('/checkout');\r\n  };\r\n\r\n  const handleShareProduct = () => {\r\n    if (navigator.share) {\r\n      navigator.share({\r\n        title: normalizedProduct.name,\r\n        text: `Check out this amazing product: ${normalizedProduct.name}`,\r\n        url: window.location.href,\r\n      })\r\n        .then(() => {\r\n          setNotification({\r\n            type: 'success',\r\n            message: 'Product shared successfully!',\r\n          });\r\n          \r\n          setTimeout(() => {\r\n            setNotification(null);\r\n          }, 3000);\r\n        })\r\n        .catch(() => {\r\n          handleCopyLink();\r\n        });\r\n    } else {\r\n      handleCopyLink();\r\n    }\r\n  };\r\n\r\n  const handleCopyLink = () => {\r\n    navigator.clipboard.writeText(window.location.href)\r\n      .then(() => {\r\n        setNotification({\r\n          type: 'success',\r\n          message: 'Product link copied to clipboard!',\r\n        });\r\n        \r\n        setTimeout(() => {\r\n          setNotification(null);\r\n        }, 3000);\r\n      })\r\n      .catch(() => {\r\n        setNotification({\r\n          type: 'error',\r\n          message: 'Failed to copy link. Please try again.',\r\n        });\r\n        \r\n        setTimeout(() => {\r\n          setNotification(null);\r\n        }, 3000);\r\n      });\r\n  };\r\n\r\n  const handleToggleWishlist = () => {\r\n    // Check if wishlist functions are available\r\n    if (!addToWishlist || !removeFromWishlist) {\r\n      setNotification({\r\n        type: 'error',\r\n        message: 'Wishlist functionality is not available.',\r\n      });\r\n      \r\n      setTimeout(() => {\r\n        setNotification(null);\r\n      }, 3000);\r\n      return;\r\n    }\r\n\r\n    const wishlistItem = {\r\n      id: normalizedProduct.id,\r\n      name: normalizedProduct.name,\r\n      price: normalizedProduct.price,\r\n      image: productImages[0],\r\n    };\r\n    \r\n    if (isInWishlist) {\r\n      removeFromWishlist(normalizedProduct.id);\r\n      \r\n      setNotification({\r\n        type: 'info',\r\n        message: 'Product removed from wishlist!',\r\n      });\r\n    } else {\r\n      addToWishlist(wishlistItem);\r\n      \r\n      setNotification({\r\n        type: 'success',\r\n        message: 'Product added to wishlist!',\r\n      });\r\n    }\r\n    \r\n    setTimeout(() => {\r\n      setNotification(null);\r\n    }, 3000);\r\n  };\r\n\r\n  const handleImageError = (e) => {\r\n    e.target.onerror = null;\r\n    e.target.src = '/placeholder-image.jpg';\r\n  };\r\n\r\n  const changeSelectedImage = (index) => {\r\n    setSelectedImage(index);\r\n  };\r\n\r\n  const formatPrice = (price) => {\r\n    return new Intl.NumberFormat('en-NG', {\r\n      style: 'currency',\r\n      currency: 'NGN',\r\n      minimumFractionDigits: 0,\r\n      maximumFractionDigits: 0,\r\n    }).format(price);\r\n  };\r\n\r\n  // Calculate discount percentage and old price\r\n  const oldPrice = normalizedProduct.originalPrice || \r\n    (normalizedProduct.discount > 0 ? Math.round(normalizedProduct.price / (1 - normalizedProduct.discount / 100)) : null);\r\n\r\n  return (\r\n    <div className=\"bg-white\">\r\n      {notification && (\r\n        <Notification \r\n          type={notification.type} \r\n          message={notification.message} \r\n          onClose={() => setNotification(null)} \r\n        />\r\n      )}\r\n      \r\n      <div className=\"container mx-auto px-4 py-6\">\r\n        {/* Breadcrumb navigation - only show if not in modal */}\r\n        {!isModal && (\r\n          <div className=\"text-sm text-gray-500 mb-6\">\r\n            <span className=\"hover:text-gray-700 cursor-pointer\">Home</span> &gt; \r\n            {normalizedProduct.category && normalizedProduct.category !== 'Uncategorized' && (\r\n              <>\r\n                <span className=\"hover:text-gray-700 cursor-pointer\"> {normalizedProduct.category}</span> &gt; \r\n              </>\r\n            )}\r\n            <span className=\"text-gray-700\"> {normalizedProduct.name}</span>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\r\n          {/* Product Images */}\r\n          <div>\r\n            <div className=\"mb-4 relative bg-gray-50 rounded-lg overflow-hidden\">\r\n              <img \r\n                src={productImages[selectedImage]}\r\n                alt={normalizedProduct.name} \r\n                className=\"w-full h-96 object-contain\"\r\n                onError={handleImageError}\r\n              />\r\n              \r\n              {/* Action buttons */}\r\n              <div className=\"absolute top-4 right-4 flex flex-col space-y-2\">\r\n                <button \r\n                  className=\"bg-white rounded-full p-2 shadow-md hover:bg-gray-100 transition-colors duration-200\"\r\n                  onClick={handleShareProduct}\r\n                  aria-label=\"Share product\"\r\n                >\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z\" />\r\n                  </svg>\r\n                </button>\r\n                <button \r\n                  className={`rounded-full p-2 shadow-md transition-colors duration-200 ${\r\n                    isInWishlist ? 'bg-pink-50 text-pink-500' : 'bg-white hover:bg-gray-100'\r\n                  }`}\r\n                  onClick={handleToggleWishlist}\r\n                  aria-label={isInWishlist ? \"Remove from wishlist\" : \"Add to wishlist\"}\r\n                >\r\n                  {isInWishlist ? (\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                      <path fillRule=\"evenodd\" d=\"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z\" clipRule=\"evenodd\" />\r\n                    </svg>\r\n                  ) : (\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\" />\r\n                    </svg>\r\n                  )}\r\n                </button>\r\n              </div>\r\n              \r\n              {/* Display badges */}\r\n              <div className=\"absolute top-4 left-4 flex flex-col space-y-2\">\r\n                {normalizedProduct.isNew && (\r\n                  <div className=\"bg-green-600 text-white text-xs font-medium px-2.5 py-1 rounded-sm\">\r\n                    New\r\n                  </div>\r\n                )}\r\n                {normalizedProduct.discount > 0 && (\r\n                  <div className=\"bg-red-600 text-white text-xs font-medium px-2.5 py-1 rounded-sm\">\r\n                    -{normalizedProduct.discount}%\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n            \r\n            {/* Thumbnail images */}\r\n            {productImages.length > 1 && (\r\n              <div className=\"grid grid-cols-5 gap-2\">\r\n                {productImages.map((image, index) => (\r\n                  <div \r\n                    key={index} \r\n                    className={`border rounded-md overflow-hidden cursor-pointer transition-all ${\r\n                      selectedImage === index ? 'border-pink-500 border-2 opacity-100' : 'border-gray-200 opacity-70 hover:opacity-100'\r\n                    }`}\r\n                    onClick={() => changeSelectedImage(index)}\r\n                  >\r\n                    <img \r\n                      src={image} \r\n                      alt={`${normalizedProduct.name} ${index + 1}`} \r\n                      className=\"w-full h-16 object-cover\"\r\n                      onError={handleImageError}\r\n                    />\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n          \r\n          {/* Product Information */}\r\n          <div className=\"space-y-6\">\r\n            <h1 className=\"text-2xl font-bold text-gray-800\">{normalizedProduct.name}</h1>\r\n            \r\n            {/* Price information */}\r\n            <div className=\"flex items-center space-x-3\">\r\n              <span className=\"text-2xl font-bold text-gray-900\">\r\n                {formatPrice(normalizedProduct.price)}\r\n              </span>\r\n              {(oldPrice || normalizedProduct.originalPrice) && (\r\n                <span className=\"text-lg text-gray-400 line-through\">\r\n                  {formatPrice(oldPrice || normalizedProduct.originalPrice)}\r\n                </span>\r\n              )}\r\n              {normalizedProduct.discount > 0 && (\r\n                <span className=\"text-sm font-medium text-red-600\">\r\n                  Save {normalizedProduct.discount}%\r\n                </span>\r\n              )}\r\n            </div>\r\n            \r\n            {/* Availability */}\r\n            <div className=\"flex items-center\">\r\n              <span className={`inline-block w-3 h-3 rounded-full mr-2 ${\r\n                normalizedProduct.stock > 0 ? 'bg-green-500' : 'bg-red-500'\r\n              }`}></span>\r\n              <span className=\"text-sm\">\r\n                {normalizedProduct.stock > 0 \r\n                  ? (normalizedProduct.stock <= 5 ? `Only ${normalizedProduct.stock} left in stock` : 'In Stock') \r\n                  : 'Out of Stock'}\r\n              </span>\r\n            </div>\r\n            \r\n            {/* Description */}\r\n            {normalizedProduct.description && (\r\n              <div className=\"text-gray-600\">\r\n                <p>{normalizedProduct.description}</p>\r\n              </div>\r\n            )}\r\n            \r\n            {/* Brand information */}\r\n            {normalizedProduct.brand && (\r\n              <div className=\"text-sm text-gray-600\">\r\n                <span className=\"font-medium\">Brand: </span>\r\n                <span>{normalizedProduct.brand}</span>\r\n              </div>\r\n            )}\r\n            \r\n            {/* Quantity selector */}\r\n            {normalizedProduct.stock > 0 && (\r\n              <div className=\"flex items-center\">\r\n                <span className=\"mr-3 text-sm font-medium\">Quantity:</span>\r\n                <div className=\"flex border border-gray-300 rounded-md\">\r\n                  <button \r\n                    onClick={decrementQuantity}\r\n                    className=\"px-3 py-1 border-r border-gray-300 hover:bg-gray-100\"\r\n                    disabled={quantity <= 1}\r\n                  >\r\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M20 12H4\" />\r\n                    </svg>\r\n                  </button>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={quantity}\r\n                    onChange={handleQuantityChange}\r\n                    min=\"1\"\r\n                    max={normalizedProduct.stock || 10}\r\n                    className=\"w-12 text-center focus:outline-none\"\r\n                  />\r\n                  <button \r\n                    onClick={incrementQuantity}\r\n                    className=\"px-3 py-1 border-l border-gray-300 hover:bg-gray-100\"\r\n                    disabled={quantity >= (normalizedProduct.stock || 10)}\r\n                  >\r\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 4v16m8-8H4\" />\r\n                    </svg>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n            \r\n            {/* Action buttons */}\r\n            <div className=\"flex flex-col sm:flex-row gap-4\">\r\n              <button\r\n                className=\"bg-pink-500 hover:bg-pink-600 text-white py-3 px-6 rounded-md font-medium w-full transition duration-200 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center\"\r\n                onClick={handleAddToCart}\r\n                disabled={normalizedProduct.stock <= 0}\r\n              >\r\n                <svg className=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z\" />\r\n                </svg>\r\n                Add To Cart\r\n              </button>\r\n              <button\r\n                className=\"bg-white hover:bg-gray-100 text-gray-800 py-3 px-6 rounded-md font-medium border border-gray-300 w-full transition duration-200 disabled:bg-gray-100 disabled:text-gray-400 disabled:cursor-not-allowed\"\r\n                onClick={handleCheckoutNow}\r\n                disabled={normalizedProduct.stock <= 0}\r\n              >\r\n                Checkout Now\r\n              </button>\r\n            </div>\r\n          \r\n            {/* Key Benefits section */}\r\n            <div className=\"mt-8 pt-6 border-t border-gray-200\">\r\n              <h3 className=\"text-lg font-medium mb-4\">Key Benefits:</h3>\r\n              <ul className=\"space-y-2\">\r\n                {normalizedProduct.benefits && normalizedProduct.benefits.length > 0 ? (\r\n                  normalizedProduct.benefits.map((benefit, index) => (\r\n                    <li key={index} className=\"flex items-start\">\r\n                      <svg className=\"h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M5 13l4 4L19 7\" />\r\n                      </svg>\r\n                      <span>{decodeHtmlEntities(benefit)}</span>\r\n                    </li>\r\n                  ))\r\n                ) : (\r\n                  <>\r\n                    <li className=\"flex items-start\">\r\n                      <svg className=\"h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M5 13l4 4L19 7\" />\r\n                      </svg>\r\n                      <span>High quality product</span>\r\n                    </li>\r\n                    <li className=\"flex items-start\">\r\n                      <svg className=\"h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M5 13l4 4L19 7\" />\r\n                      </svg>\r\n                      <span>Fast delivery</span>\r\n                    </li>\r\n                    <li className=\"flex items-start\">\r\n                      <svg className=\"h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M5 13l4 4L19 7\" />\r\n                      </svg>\r\n                      <span>Customer satisfaction guaranteed</span>\r\n                    </li>\r\n                  </>\r\n                )}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductDetail;","import React, { useContext, useState, useMemo } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { WishlistContext } from '../../contexts/WishlistContext';\r\nimport { CartContext } from '../../contexts/CartContext';\r\nimport ProductDetail from '../product/ProductDetail';\r\n\r\n// Utility function to decode HTML entities\r\nconst decodeHtmlEntities = (text) => {\r\n  if (typeof text !== 'string') return text;\r\n  \r\n  // Create a temporary textarea element to use the browser's built-in HTML decoding\r\n  const textarea = document.createElement('textarea');\r\n  textarea.innerHTML = text;\r\n  return textarea.value;\r\n};\r\n\r\nconst ProductCard = ({ product }) => {\r\n  const { isInWishlist, addToWishlist, removeFromWishlist } = useContext(WishlistContext);\r\n  const { addToCart } = useContext(CartContext);\r\n  const [showQuickView, setShowQuickView] = useState(false);\r\n  \r\n  // Memoize normalized product data to avoid recalculation on every render\r\n  const normalizedProduct = useMemo(() => {\r\n    if (!product) return null;\r\n\r\n    const productId = product.product_id || product.id || product._id || product.productId;\r\n    \r\n    if (!productId) {\r\n      console.error(\"ProductCard: No valid product ID found\", product);\r\n      return null;\r\n    }\r\n\r\n    return {\r\n      id: productId,\r\n      name: decodeHtmlEntities(product.name || product.title || product.product_name || 'Unknown Product'),\r\n      price: parseFloat(product.price) || parseFloat(product.cost) || 0,\r\n      originalPrice: product.slashed_price ? parseFloat(product.slashed_price) : undefined,\r\n      image: product.images?.[0] || product.image || '/placeholder-image.jpg',\r\n      images: product.images || (product.image ? [product.image] : []),\r\n      category: decodeHtmlEntities(product.category || product.category_name || 'Uncategorized'),\r\n      stock: parseInt(product.available_qty) || parseInt(product.stock) || parseInt(product.inventory) || 0,\r\n      isNew: product.isNew || product.is_new || false,\r\n      discount: product.discount || (product.slashed_price && product.price ? \r\n        Math.round(((product.slashed_price - product.price) / product.slashed_price) * 100) : 0),\r\n      description: decodeHtmlEntities(product.description || product.desc || ''),\r\n      brand: decodeHtmlEntities(product.brand || product.manufacturer || ''),\r\n      ...product // Keep original data for ProductDetail\r\n    };\r\n  }, [product]);\r\n\r\n  // Memoize wishlist status to avoid unnecessary context calls\r\n  const isWishlisted = useMemo(() => {\r\n    return normalizedProduct ? isInWishlist(normalizedProduct.id) : false;\r\n  }, [normalizedProduct, isInWishlist]);\r\n\r\n  // Memoize price formatter\r\n  const formatPrice = useMemo(() => {\r\n    return (price) => new Intl.NumberFormat('en-NG', {\r\n      style: 'currency',\r\n      currency: 'NGN',\r\n      minimumFractionDigits: 0,\r\n      maximumFractionDigits: 0,\r\n    }).format(price);\r\n  }, []);\r\n\r\n  // Event handlers\r\n  const handleWishlistToggle = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    \r\n    if (isWishlisted) {\r\n      removeFromWishlist(normalizedProduct.id);\r\n    } else {\r\n      addToWishlist(normalizedProduct);\r\n    }\r\n  };\r\n  \r\n  const handleAddToCart = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    addToCart(normalizedProduct);\r\n  };\r\n  \r\n  const handleQuickView = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    setShowQuickView(true);\r\n  };\r\n\r\n  // Early return for invalid products\r\n  if (!normalizedProduct) {\r\n    return (\r\n      <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\">\r\n        <strong>Error:</strong> Invalid product data\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Render badges\r\n  const renderBadges = () => (\r\n    <>\r\n      {normalizedProduct.isNew && (\r\n        <div className=\"absolute top-3 left-3 z-10 bg-green-600 text-white text-xs font-medium px-2.5 py-1 rounded-sm\">\r\n          New\r\n        </div>\r\n      )}\r\n      {normalizedProduct.discount > 0 && (\r\n        <div className=\"absolute top-3 right-12 z-10 bg-red-600 text-white text-xs font-medium px-2.5 py-1 rounded-sm\">\r\n          -{normalizedProduct.discount}%\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n\r\n  // Render stock status\r\n  const renderStockStatus = () => {\r\n    if (normalizedProduct.stock === 0) {\r\n      return <span className=\"text-xs text-red-600 font-medium\">Out of Stock</span>;\r\n    }\r\n    if (normalizedProduct.stock <= 5) {\r\n      return <span className=\"text-xs text-orange-600 font-medium\">Only {normalizedProduct.stock} left</span>;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"group relative bg-white rounded-lg border border-gray-200 overflow-hidden transition-all duration-200 hover:shadow-lg\">\r\n        {/* Product Image Section */}\r\n        <div className=\"relative overflow-hidden pt-[100%]\">\r\n          {renderBadges()}\r\n          \r\n          {/* Quick View Button */}\r\n          <button\r\n            onClick={handleQuickView}\r\n            aria-label=\"Quick view\"\r\n            className=\"absolute top-3 right-3 z-10 bg-white rounded-full p-2 shadow-md hover:bg-gray-100 transition-colors\"\r\n          >\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\r\n            </svg>\r\n          </button>\r\n          \r\n          {/* Product Image Link */}\r\n          <Link to={`/product/${normalizedProduct.id}`} className=\"block absolute inset-0\">\r\n            <img\r\n              src={normalizedProduct.image}\r\n              alt={normalizedProduct.name}\r\n              className=\"absolute top-0 left-0 w-full h-full object-cover object-center transition-transform duration-500 ease-out group-hover:scale-105\"\r\n            />\r\n            <div className=\"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300\" />\r\n          </Link>\r\n          \r\n          {/* Add to Cart Button (appears on hover) */}\r\n          <div className=\"absolute bottom-4 left-0 right-0 flex justify-center opacity-0 transform translate-y-4 group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-300 ease-out\">\r\n            <button\r\n              onClick={handleAddToCart}\r\n              disabled={normalizedProduct.stock === 0}\r\n              aria-label=\"Add to cart\"\r\n              className=\"bg-white text-gray-800 rounded-md py-2 px-4 text-sm font-semibold shadow-md hover:bg-gray-800 hover:text-white transition-colors duration-200 flex items-center disabled:bg-gray-300 disabled:cursor-not-allowed\"\r\n            >\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 mr-1.5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z\" />\r\n              </svg>\r\n              Add to Cart\r\n            </button>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Product Info Section */}\r\n        <div className=\"p-4\">\r\n          <div className=\"flex justify-between items-start mb-1\">\r\n            <Link to={`/product/${normalizedProduct.id}`} className=\"flex-1\">\r\n              <h3 className=\"text-gray-600 font-medium text-sm leading-tight hover:text-gray-800 transition-colors line-clamp-2\">\r\n                {normalizedProduct.name}\r\n              </h3>\r\n            </Link>\r\n            \r\n            {/* Wishlist Button */}\r\n            <button\r\n              onClick={handleWishlistToggle}\r\n              aria-label={isWishlisted ? \"Remove from wishlist\" : \"Add to wishlist\"}\r\n              className={`ml-2 w-8 h-8 rounded-full flex items-center justify-center transition-colors duration-200 ${\r\n                isWishlisted ? 'bg-pink-50 text-pink-500' : 'bg-gray-50 text-gray-400 hover:text-pink-500 hover:bg-pink-50'\r\n              }`}\r\n            >\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill={isWishlisted ? \"currentColor\" : \"none\"} viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n          \r\n          {/* Price and Stock Info */}\r\n          <div className=\"flex items-center justify-between mt-2\">\r\n            <div>\r\n              <p className=\"text-gray-900 font-semibold text-lg\">\r\n                {formatPrice(normalizedProduct.price)}\r\n              </p>\r\n              {normalizedProduct.originalPrice && (\r\n                <p className=\"text-gray-500 text-xs line-through\">\r\n                  {formatPrice(normalizedProduct.originalPrice)}\r\n                </p>\r\n              )}\r\n            </div>\r\n            {renderStockStatus()}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Quick View Modal */}\r\n      {showQuickView && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\">\r\n          <div className=\"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto relative\">\r\n            <button \r\n              onClick={() => setShowQuickView(false)}\r\n              className=\"absolute top-4 right-4 bg-gray-100 rounded-full p-2 hover:bg-gray-200 transition-colors z-10\"\r\n            >\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n            <ProductDetail product={normalizedProduct} isModal={true} />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductCard;"],"names":["decodeHtmlEntities","text","entityMap","entity","ProductDetail","product","isModal","addToCart","useCart","navigate","useNavigate","quantity","setQuantity","useState","notification","setNotification","selectedImage","setSelectedImage","wishlist","addToWishlist","removeFromWishlist","useContext","WishlistContext","normalizedProduct","React","_a","isInWishlist","item","jsxs","jsx","productImages","handleQuantityChange","e","value","incrementQuantity","decrementQuantity","handleAddToCart","handleCheckoutNow","handleShareProduct","handleCopyLink","handleToggleWishlist","wishlistItem","handleImageError","changeSelectedImage","index","formatPrice","price","oldPrice","Notification","Fragment","image","benefit","textarea","ProductCard","CartContext","showQuickView","setShowQuickView","useMemo","productId","isWishlisted","handleWishlistToggle","handleQuickView","renderBadges","renderStockStatus","Link"],"mappings":"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"}
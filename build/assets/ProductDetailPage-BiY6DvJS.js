import{j as t,p as h}from"./index-M9bdpqMz.js";import{h as P,u as N,b as o}from"./vendor-Chw79xPl.js";import{P as v,a as b}from"./ProductCard-D2uh7JqJ.js";import{L as D}from"./Loader-66uzqkoD.js";import"./Notification-SFVOOW3C.js";const E=({products:e})=>!e||e.length===0?null:t.jsxs("div",{className:"mt-16",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"You May Also Like"}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:e.map(a=>t.jsx(v,{product:a},a.id))})]}),_=()=>{const{productId:e}=P(),a=N(),[f,d]=o.useState(!0),[l,j]=o.useState(null),[u,c]=o.useState(null),[m,x]=o.useState([]);return o.useEffect(()=>{(async()=>{if(!e){c("Product ID is missing"),d(!1);return}try{d(!0),c(null);const r=await h.fetchProduct(e);if(!r||!r.product){c("Product not found");return}const i=r.product;j(i);try{const s=i.category||i.category_name;if(s&&s!=="Uncategorized"){const p=await h.fetchProducts({categories:[s],limit:5});if(p.products){const y=p.products.filter(n=>{const g=n.id||n._id||n.product_id;return g&&g!==e}).slice(0,4);x(y)}}}catch(s){console.error("Error fetching related products:",s),x([])}}catch(r){console.error("Error fetching product details:",r),c(`Failed to load product details: ${r.message}`)}finally{d(!1)}})()},[e]),f?t.jsx("div",{className:"container mx-auto px-4 py-16",children:t.jsxs("div",{className:"text-center",children:[t.jsx(D,{}),t.jsx("p",{className:"mt-4 text-gray-600",children:"Loading product details..."})]})}):u?t.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[t.jsx("h2",{className:"text-2xl font-semibold text-red-600",children:u}),t.jsx("p",{className:"mt-2 text-gray-600",children:"Sorry, we couldn't find the product you're looking for."}),t.jsx("button",{className:"mt-6 px-6 py-2 bg-pink-500 text-white rounded-md hover:bg-pink-600 transition-colors",onClick:()=>a("/shop"),children:"Back to Shop"})]}):t.jsx("div",{className:"min-h-screen bg-gray-50",children:t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l&&t.jsx(b,{product:l}),m.length>0&&t.jsx("div",{className:"mt-12",children:t.jsx(E,{products:m})})]})})};export{_ as default};
//# sourceMappingURL=ProductDetailPage-BiY6DvJS.js.map

{"version":3,"file":"LoginPage-DV0ojU7Y.js","sources":["../../node_modules/lucide-react/dist/esm/icons/eye-off.js","../../node_modules/lucide-react/dist/esm/icons/log-in.js","../../src/pages/public/LoginPage.jsx"],"sourcesContent":["/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49\",\n      key: \"ct8e1f\"\n    }\n  ],\n  [\"path\", { d: \"M14.084 14.158a3 3 0 0 1-4.242-4.242\", key: \"151rxh\" }],\n  [\n    \"path\",\n    {\n      d: \"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143\",\n      key: \"13bj9a\"\n    }\n  ],\n  [\"path\", { d: \"m2 2 20 20\", key: \"1ooewy\" }]\n];\nconst EyeOff = createLucideIcon(\"eye-off\", __iconNode);\n\nexport { __iconNode, EyeOff as default };\n//# sourceMappingURL=eye-off.js.map\n","/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4\", key: \"u53s6r\" }],\n  [\"polyline\", { points: \"10 17 15 12 10 7\", key: \"1ail0h\" }],\n  [\"line\", { x1: \"15\", x2: \"3\", y1: \"12\", y2: \"12\", key: \"v6grx8\" }]\n];\nconst LogIn = createLucideIcon(\"log-in\", __iconNode);\n\nexport { __iconNode, LogIn as default };\n//# sourceMappingURL=log-in.js.map\n","import React, { useState, useEffect } from 'react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { AlertCircle, LogIn, Eye, EyeOff } from 'lucide-react';\r\n\r\nconst LoginPage = () => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const { login, isAuthenticated, isLoading } = useAuth();\r\n  \r\n  const [formData, setFormData] = useState({ username: '', password: '' });\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  const getRedirectPath = () => {\r\n    const urlParams = new URLSearchParams(location.search);\r\n    return urlParams.get('redirect') || location.state?.from?.pathname || '/admin/dashboard';\r\n  };\r\n\r\n  const getUrlMessage = () => {\r\n    const urlParams = new URLSearchParams(location.search);\r\n    const reason = urlParams.get('reason');\r\n    const expired = urlParams.get('expired');\r\n    \r\n    if (reason === 'session_expired' || expired === 'true') {\r\n      return { type: 'warning', message: 'Session expired. Please login again.' };\r\n    }\r\n    if (reason === 'authentication_required') {\r\n      return { type: 'info', message: 'Please login to access this page.' };\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: name === 'username' ? value.trim() : value\r\n    }));\r\n    if (error) setError('');\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!formData.username) {\r\n      setError('Username is required');\r\n      return;\r\n    }\r\n    if (!formData.password) {\r\n      setError('Password is required');\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    setError('');\r\n    \r\n    try {\r\n      await login(formData.username, formData.password);\r\n      setTimeout(() => navigate(getRedirectPath(), { replace: true }), 100);\r\n    } catch (err) {\r\n      let errorMessage = 'Login failed. Please try again.';\r\n      \r\n      if (err.message.includes('Invalid') || err.message.includes('Unauthorized')) {\r\n        errorMessage = 'Invalid username or password.';\r\n        setFormData(prev => ({ ...prev, password: '' }));\r\n      } else if (err.message.includes('Network')) {\r\n        errorMessage = 'Network error. Check your connection.';\r\n      } else if (err.message.includes('timeout')) {\r\n        errorMessage = 'Request timed out. Try again.';\r\n      } else if (err.message) {\r\n        errorMessage = err.message;\r\n      }\r\n      \r\n      setError(errorMessage);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!isLoading && isAuthenticated) {\r\n      navigate(getRedirectPath(), { replace: true });\r\n    }\r\n  }, [isAuthenticated, isLoading, navigate]);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"></div>\r\n          <p className=\"mt-2 text-gray-600\">Checking authentication...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const urlMessage = getUrlMessage();\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4\">\r\n      <div className=\"max-w-md w-full space-y-8\">\r\n        \r\n        <div className=\"text-center\">\r\n          <div className=\"mx-auto h-16 w-16 rounded-full bg-blue-500 flex items-center justify-center shadow-lg\">\r\n            <LogIn className=\"h-8 w-8 text-white\" />\r\n          </div>\r\n          <h2 className=\"mt-6 text-3xl font-bold text-gray-900\">Admin Login</h2>\r\n          <p className=\"mt-2 text-sm text-gray-600\">Sign in to manage Leksy Cosmetics</p>\r\n        </div>\r\n        \r\n        {urlMessage && (\r\n          <div className={`p-4 rounded-md border ${\r\n            urlMessage.type === 'error' ? 'bg-red-50 border-red-200 text-red-800' : \r\n            urlMessage.type === 'warning' ? 'bg-yellow-50 border-yellow-200 text-yellow-800' :\r\n            'bg-blue-50 border-blue-200 text-blue-800'\r\n          }`}>\r\n            <div className=\"flex items-center\">\r\n              <AlertCircle className=\"w-5 h-5 mr-2\" />\r\n              <span className=\"text-sm\">{urlMessage.message}</span>\r\n            </div>\r\n          </div>\r\n        )}\r\n        \r\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n          \r\n          <div>\r\n            <label htmlFor=\"username\" className=\"block text-sm font-medium text-gray-700 mb-1\">Username</label>\r\n            <input\r\n              id=\"username\"\r\n              name=\"username\"\r\n              type=\"text\"\r\n              required\r\n              className={`w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${\r\n                error ? 'border-red-300' : 'border-gray-300'\r\n              }`}\r\n              placeholder=\"Enter username\"\r\n              value={formData.username}\r\n              onChange={handleChange}\r\n              disabled={isSubmitting}\r\n            />\r\n          </div>\r\n          \r\n          <div>\r\n            <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-1\">Password</label>\r\n            <div className=\"relative\">\r\n              <input\r\n                id=\"password\"\r\n                name=\"password\"\r\n                type={showPassword ? 'text' : 'password'}\r\n                required\r\n                className={`w-full px-3 py-2 pr-10 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${\r\n                  error ? 'border-red-300' : 'border-gray-300'\r\n                }`}\r\n                placeholder=\"Enter password\"\r\n                value={formData.password}\r\n                onChange={handleChange}\r\n                disabled={isSubmitting}\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                className=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\r\n                onClick={() => setShowPassword(!showPassword)}\r\n                disabled={isSubmitting}\r\n              >\r\n                {showPassword ? <EyeOff className=\"h-4 w-4 text-gray-400\" /> : <Eye className=\"h-4 w-4 text-gray-400\" />}\r\n              </button>\r\n            </div>\r\n          </div>\r\n          \r\n          {error && (\r\n            <div className=\"p-3 bg-red-50 border border-red-200 rounded-md\">\r\n              <div className=\"flex items-center\">\r\n                <AlertCircle className=\"w-5 h-5 text-red-500 mr-2\" />\r\n                <span className=\"text-sm text-red-800\">{error}</span>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          <button\r\n            type=\"submit\"\r\n            disabled={isSubmitting || !formData.username || !formData.password}\r\n            className={`w-full flex justify-center py-2.5 px-4 border border-transparent text-sm font-medium rounded-md text-white ${\r\n              isSubmitting || !formData.username || !formData.password\r\n                ? 'bg-gray-400 cursor-not-allowed' \r\n                : 'bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500'\r\n            }`}\r\n          >\r\n            {isSubmitting ? (\r\n              <div className=\"flex items-center\">\r\n                <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                  <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                  <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                </svg>\r\n                Signing in...\r\n              </div>\r\n            ) : (\r\n              <div className=\"flex items-center\">\r\n                <LogIn className=\"w-4 h-4 mr-2\" />\r\n                Sign in\r\n              </div>\r\n            )}\r\n          </button>\r\n          \r\n        </form>\r\n        \r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginPage;"],"names":["__iconNode","EyeOff","createLucideIcon","LogIn","LoginPage","navigate","useNavigate","location","useLocation","login","isAuthenticated","isLoading","useAuth","formData","setFormData","useState","showPassword","setShowPassword","error","setError","isSubmitting","setIsSubmitting","getRedirectPath","_b","_a","getUrlMessage","urlParams","reason","expired","handleChange","e","name","value","prev","handleSubmit","err","errorMessage","useEffect","jsxs","jsx","urlMessage","AlertCircle","Eye"],"mappings":"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","x_google_ignoreList":[0,1]}
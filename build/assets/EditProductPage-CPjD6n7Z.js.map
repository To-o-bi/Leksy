{"version":3,"file":"EditProductPage-CPjD6n7Z.js","sources":["../../node_modules/lucide-react/dist/esm/icons/upload.js","../../src/admin/pages/products/EditProductPage.jsx"],"sourcesContent":["/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }],\n  [\"polyline\", { points: \"17 8 12 3 7 8\", key: \"t8dd8p\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"3\", y2: \"15\", key: \"widbto\" }]\n];\nconst Upload = createLucideIcon(\"upload\", __iconNode);\n\nexport { __iconNode, Upload as default };\n//# sourceMappingURL=upload.js.map\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { ChevronLeft, Save, Upload, X, AlertCircle, CheckCircle } from 'lucide-react';\r\nimport { productService } from '../../../api';\r\n\r\nconst EditProductPage = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const fileInputRef = useRef(null);\r\n  \r\n  // State management\r\n  const [loading, setLoading] = useState(true);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [submitSuccess, setSubmitSuccess] = useState(false);\r\n  const [submitError, setSubmitError] = useState('');\r\n  const [productNotFound, setProductNotFound] = useState(false);\r\n  const [originalData, setOriginalData] = useState(null);\r\n  const [errors, setErrors] = useState({});\r\n  \r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    price: '',\r\n    slashed_price: '',\r\n    description: '',\r\n    quantity: '',\r\n    category: '',\r\n  });\r\n  \r\n  const [newImages, setNewImages] = useState([]);\r\n  const [newImagePreviews, setNewImagePreviews] = useState([]);\r\n  const [existingImages, setExistingImages] = useState([]);\r\n  \r\n  // Constants\r\n  const PRODUCT_CATEGORIES = [\r\n    'serums', 'moisturizers', 'bathe and body', \r\n    'sunscreens', 'toners', 'face cleansers'\r\n  ];\r\n  \r\n  const IMAGE_CONFIG = {\r\n    maxSize: 2 * 1024 * 1024, // 2MB\r\n    validTypes: ['image/jpeg', 'image/jpg', 'image/png', 'image/webp'],\r\n    maxCount: 5\r\n  };\r\n  \r\n  const FALLBACK_IMAGE = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pjwvc3ZnPg==';\r\n  \r\n  // Utility functions\r\n  const formatCategoryName = (category) => \r\n    category.split(' ').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ');\r\n  \r\n  const parseApiResponse = (response) => {\r\n    if (typeof response === 'string' && response.includes('<br />')) {\r\n      try {\r\n        const jsonMatch = response.match(/\\{.*\\}$/);\r\n        if (jsonMatch) return JSON.parse(jsonMatch[0]);\r\n        \r\n        if (response.includes('\"code\":200') && response.includes('updated successfully')) {\r\n          return { code: 200, message: 'Product updated successfully!' };\r\n        }\r\n      } catch (parseError) {\r\n        console.warn('Could not parse response JSON:', parseError);\r\n      }\r\n    }\r\n    return response;\r\n  };\r\n  \r\n  const clearErrors = (field = null) => {\r\n    if (field) {\r\n      setErrors(prev => ({ ...prev, [field]: '' }));\r\n    } else {\r\n      setErrors({});\r\n    }\r\n    if (submitError) setSubmitError('');\r\n  };\r\n  \r\n  const validateImageFile = (file) => {\r\n    if (!IMAGE_CONFIG.validTypes.includes(file.type)) {\r\n      return { valid: false, error: 'Only JPEG, PNG, and WebP images are allowed' };\r\n    }\r\n    if (file.size > IMAGE_CONFIG.maxSize) {\r\n      return { valid: false, error: 'File size must be less than 2MB' };\r\n    }\r\n    return { valid: true };\r\n  };\r\n  \r\n  const hasChanges = () => {\r\n    if (!originalData) return false;\r\n    \r\n    return (\r\n      formData.name !== originalData.name ||\r\n      parseFloat(formData.price) !== originalData.price ||\r\n      parseFloat(formData.slashed_price || 0) !== (originalData.slashed_price || 0) ||\r\n      formData.description !== originalData.description ||\r\n      parseInt(formData.quantity) !== originalData.available_qty ||\r\n      formData.category !== originalData.category ||\r\n      newImages.length > 0 ||\r\n      existingImages.length !== (originalData.images?.length || 0)\r\n    );\r\n  };\r\n  \r\n  // Fetch product data\r\n  useEffect(() => {\r\n    const fetchProductData = async () => {\r\n      if (!id) {\r\n        setProductNotFound(true);\r\n        setLoading(false);\r\n        return;\r\n      }\r\n      \r\n      try {\r\n        const response = await productService.fetchProduct(id);\r\n        \r\n        if (!response || response.code !== 200 || !response.product) {\r\n          setProductNotFound(true);\r\n          return;\r\n        }\r\n        \r\n        const productData = response.product;\r\n        setOriginalData(productData);\r\n        \r\n        setFormData({\r\n          name: productData.name || '',\r\n          price: productData.price?.toString() || '',\r\n          slashed_price: productData.slashed_price?.toString() || '',\r\n          category: productData.category || '',\r\n          quantity: productData.available_qty?.toString() || '',\r\n          description: productData.description || '',\r\n        });\r\n        \r\n        setExistingImages(Array.isArray(productData.images) ? productData.images : []);\r\n        \r\n      } catch (error) {\r\n        console.error('Error fetching product:', error);\r\n        \r\n        if (error.message.includes('not found') || error.status === 404) {\r\n          setProductNotFound(true);\r\n        } else if (error.message.includes('Authentication')) {\r\n          setSubmitError('Please log in again to continue.');\r\n          setTimeout(() => navigate('/admin/login'), 2000);\r\n        } else {\r\n          setSubmitError('Failed to load product data. Please try again.');\r\n        }\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchProductData();\r\n  }, [id, navigate]);\r\n  \r\n  // Event handlers\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n    clearErrors(name);\r\n  };\r\n  \r\n  const handleImageChange = (e) => {\r\n    const files = Array.from(e.target.files);\r\n    \r\n    if (existingImages.length + newImages.length + files.length > IMAGE_CONFIG.maxCount) {\r\n      setErrors(prev => ({ ...prev, images: `Maximum ${IMAGE_CONFIG.maxCount} images allowed per product` }));\r\n      return;\r\n    }\r\n    \r\n    const validFiles = [];\r\n    const invalidFiles = [];\r\n    \r\n    files.forEach(file => {\r\n      const validation = validateImageFile(file);\r\n      if (validation.valid) {\r\n        validFiles.push(file);\r\n      } else {\r\n        invalidFiles.push({ name: file.name, reason: validation.error });\r\n      }\r\n    });\r\n    \r\n    if (invalidFiles.length > 0) {\r\n      const errorMessage = invalidFiles.map(f => `${f.name}: ${f.reason}`).join(', ');\r\n      setErrors(prev => ({ ...prev, images: errorMessage }));\r\n    }\r\n    \r\n    if (validFiles.length > 0) {\r\n      setNewImages(prev => [...prev, ...validFiles]);\r\n      \r\n      validFiles.forEach(file => {\r\n        const reader = new FileReader();\r\n        reader.onloadend = () => setNewImagePreviews(prev => [...prev, reader.result]);\r\n        reader.readAsDataURL(file);\r\n      });\r\n      \r\n      if (errors.images) clearErrors('images');\r\n    }\r\n    \r\n    if (fileInputRef.current) fileInputRef.current.value = '';\r\n  };\r\n  \r\n  const handleRemoveImage = (index, type) => {\r\n    if (type === 'new') {\r\n      setNewImages(prev => prev.filter((_, i) => i !== index));\r\n      setNewImagePreviews(prev => prev.filter((_, i) => i !== index));\r\n    } else {\r\n      setExistingImages(prev => prev.filter((_, i) => i !== index));\r\n    }\r\n  };\r\n  \r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n    \r\n    // Required field validations\r\n    const validations = {\r\n      name: {\r\n        required: true,\r\n        minLength: 2,\r\n        message: 'Product name is required and must be at least 2 characters'\r\n      },\r\n      price: {\r\n        required: true,\r\n        type: 'number',\r\n        min: 0.01,\r\n        message: 'Please enter a valid price greater than 0'\r\n      },\r\n      description: {\r\n        required: true,\r\n        minLength: 10,\r\n        message: 'Description is required and must be at least 10 characters'\r\n      },\r\n      quantity: {\r\n        required: true,\r\n        type: 'integer',\r\n        min: 0,\r\n        message: 'Please enter a valid quantity (0 or greater)'\r\n      },\r\n      category: {\r\n        required: true,\r\n        enum: PRODUCT_CATEGORIES,\r\n        message: 'Please select a valid category'\r\n      }\r\n    };\r\n    \r\n    Object.entries(validations).forEach(([field, rules]) => {\r\n      const value = formData[field]?.trim();\r\n      \r\n      if (rules.required && !value) {\r\n        newErrors[field] = rules.message;\r\n        return;\r\n      }\r\n      \r\n      if (value) {\r\n        if (rules.minLength && value.length < rules.minLength) {\r\n          newErrors[field] = rules.message;\r\n        } else if (rules.type === 'number' && (isNaN(value) || parseFloat(value) < (rules.min || 0))) {\r\n          newErrors[field] = rules.message;\r\n        } else if (rules.type === 'integer' && (isNaN(value) || parseInt(value) < (rules.min || 0))) {\r\n          newErrors[field] = rules.message;\r\n        } else if (rules.enum && !rules.enum.includes(value)) {\r\n          newErrors[field] = rules.message;\r\n        }\r\n      }\r\n    });\r\n    \r\n    // Slashed price validation\r\n    if (formData.slashed_price) {\r\n      if (isNaN(formData.slashed_price) || parseFloat(formData.slashed_price) <= 0) {\r\n        newErrors.slashed_price = 'Please enter a valid original price';\r\n      } else if (formData.price && parseFloat(formData.slashed_price) <= parseFloat(formData.price)) {\r\n        newErrors.slashed_price = 'Original price must be greater than current price';\r\n      }\r\n    }\r\n    \r\n    // Image validation\r\n    if (existingImages.length === 0 && newImages.length === 0) {\r\n      newErrors.images = 'At least one product image is required';\r\n    }\r\n    \r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n  \r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!validateForm()) {\r\n      setSubmitError('Please correct the errors above and try again.');\r\n      return;\r\n    }\r\n    \r\n    if (!hasChanges()) {\r\n      setSubmitError('No changes detected. Please make some changes before saving.');\r\n      return;\r\n    }\r\n    \r\n    setSubmitting(true);\r\n    setSubmitError('');\r\n    setSubmitSuccess(false);\r\n    \r\n    try {\r\n      const productData = {};\r\n      \r\n      // Add only changed fields\r\n      if (formData.name !== originalData.name) productData.name = formData.name.trim();\r\n      if (parseFloat(formData.price) !== originalData.price) productData.price = parseFloat(formData.price);\r\n      if (formData.description !== originalData.description) productData.description = formData.description.trim();\r\n      if (parseInt(formData.quantity) !== originalData.available_qty) productData.quantity = parseInt(formData.quantity, 10);\r\n      if (formData.category !== originalData.category) productData.category = formData.category;\r\n      \r\n      const newSlashedPrice = formData.slashed_price ? parseFloat(formData.slashed_price) : null;\r\n      const originalSlashedPrice = originalData.slashed_price || null;\r\n      if (newSlashedPrice !== originalSlashedPrice && newSlashedPrice) {\r\n        productData.slashed_price = newSlashedPrice;\r\n      }\r\n      \r\n      if (newImages.length > 0) productData.images = newImages;\r\n      \r\n      const response = await productService.updateProduct(id, productData);\r\n      const parsedResponse = parseApiResponse(response);\r\n      \r\n      if (parsedResponse && (parsedResponse.code === 200 || parsedResponse.code === '200')) {\r\n        setSubmitSuccess(true);\r\n        setTimeout(() => {\r\n          navigate('/admin/products', {\r\n            state: {\r\n              notification: {\r\n                type: 'success',\r\n                message: `Product \"${formData.name}\" has been updated successfully.`\r\n              }\r\n            }\r\n          });\r\n        }, 2000);\r\n      } else {\r\n        throw new Error(parsedResponse?.message || 'Failed to update product');\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('Error updating product:', error);\r\n      \r\n      if (error.message?.includes('Authentication')) {\r\n        setSubmitError('Please log in again to continue.');\r\n        setTimeout(() => navigate('/admin/login'), 2000);\r\n      } else {\r\n        const errorMessage = error.message || 'An error occurred while updating the product.';\r\n        if (errorMessage === 'Failed to update product' && error.stack?.includes('code\":200')) {\r\n          setSubmitError('Product may have been updated. Please check the products list to confirm.');\r\n        } else {\r\n          setSubmitError(errorMessage);\r\n        }\r\n      }\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n  \r\n  const handleGoBack = () => {\r\n    if (hasChanges() && !window.confirm('You have unsaved changes. Are you sure you want to leave?')) {\r\n      return;\r\n    }\r\n    navigate('/admin/products');\r\n  };\r\n  \r\n  // Render components\r\n  const LoadingSpinner = () => (\r\n    <div className=\"min-h-screen bg-gray-50 py-6\">\r\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n          <div className=\"flex items-center justify-center h-64\">\r\n            <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n  \r\n  const NotFoundPage = () => (\r\n    <div className=\"min-h-screen bg-gray-50 py-6\">\r\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"bg-white rounded-lg shadow-md overflow-hidden\">\r\n          <div className=\"bg-white px-6 py-4 border-b border-gray-200\">\r\n            <div className=\"flex items-center\">\r\n              <button\r\n                onClick={() => navigate('/admin/products')}\r\n                className=\"flex items-center text-gray-600 hover:text-gray-800 mr-4\"\r\n              >\r\n                <ChevronLeft size={20} />\r\n                <span className=\"ml-1\">Back</span>\r\n              </button>\r\n              <h1 className=\"text-2xl font-semibold text-gray-900\">Product Not Found</h1>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"px-6 py-6\">\r\n            <div className=\"p-4 bg-red-50 border border-red-200 rounded-md mb-6\">\r\n              <div className=\"flex items-center\">\r\n                <AlertCircle size={20} className=\"mr-3 text-red-500 flex-shrink-0\" />\r\n                <p className=\"text-red-800\">\r\n                  The product you are looking for does not exist or has been removed.\r\n                </p>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"flex justify-end\">\r\n              <button\r\n                onClick={() => navigate('/admin/products')}\r\n                className=\"px-6 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-md transition-colors\"\r\n              >\r\n                Return to Products\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n  \r\n  const StatusMessage = ({ type, message, submessage }) => (\r\n    <div className={`mb-6 p-4 border rounded-md ${\r\n      type === 'success' \r\n        ? 'bg-green-50 border-green-200' \r\n        : 'bg-red-50 border-red-200'\r\n    }`}>\r\n      <div className=\"flex items-center\">\r\n        {type === 'success' ? (\r\n          <CheckCircle size={20} className=\"mr-3 text-green-500 flex-shrink-0\" />\r\n        ) : (\r\n          <AlertCircle size={20} className=\"mr-3 text-red-500 flex-shrink-0\" />\r\n        )}\r\n        <div>\r\n          <p className={`${type === 'success' ? 'text-green-800' : 'text-red-800'} font-medium`}>\r\n            {message}\r\n          </p>\r\n          {submessage && (\r\n            <p className={`${type === 'success' ? 'text-green-700' : 'text-red-700'} text-sm mt-1`}>\r\n              {submessage}\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n  \r\n  const FormField = ({ \r\n    label, \r\n    name, \r\n    type = 'text', \r\n    required = false, \r\n    placeholder, \r\n    currency = false,\r\n    rows,\r\n    options,\r\n    className = '',\r\n    ...props \r\n  }) => (\r\n    <div className={className}>\r\n      <label htmlFor={name} className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n        {label} {required && <span className=\"text-red-500\">*</span>}\r\n      </label>\r\n      {type === 'select' ? (\r\n        <select\r\n          id={name}\r\n          name={name}\r\n          value={formData[name]}\r\n          onChange={handleChange}\r\n          disabled={submitting}\r\n          className={`w-full px-3 py-2 border rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${\r\n            errors[name] ? 'border-red-300' : 'border-gray-300'\r\n          }`}\r\n          {...props}\r\n        >\r\n          <option value=\"\">{placeholder}</option>\r\n          {options?.map((option) => (\r\n            <option key={option} value={option}>\r\n              {formatCategoryName(option)}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      ) : type === 'textarea' ? (\r\n        <textarea\r\n          id={name}\r\n          name={name}\r\n          value={formData[name]}\r\n          onChange={handleChange}\r\n          disabled={submitting}\r\n          rows={rows || 4}\r\n          className={`w-full px-3 py-2 border rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${\r\n            errors[name] ? 'border-red-300' : 'border-gray-300'\r\n          }`}\r\n          placeholder={placeholder}\r\n          {...props}\r\n        />\r\n      ) : (\r\n        <div className={currency ? 'relative' : ''}>\r\n          {currency && (\r\n            <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n              <span className=\"text-gray-500\">₦</span>\r\n            </div>\r\n          )}\r\n          <input\r\n            type={type}\r\n            id={name}\r\n            name={name}\r\n            value={formData[name]}\r\n            onChange={handleChange}\r\n            disabled={submitting}\r\n            className={`w-full ${currency ? 'pl-8' : 'pl-3'} pr-3 py-2 border rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${\r\n              errors[name] ? 'border-red-300' : 'border-gray-300'\r\n            }`}\r\n            placeholder={placeholder}\r\n            {...props}\r\n          />\r\n        </div>\r\n      )}\r\n      {errors[name] && (\r\n        <p className=\"mt-1 text-sm text-red-600\">{errors[name]}</p>\r\n      )}\r\n    </div>\r\n  );\r\n  \r\n  const ImageGrid = ({ images, type, onRemove }) => (\r\n    <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4\">\r\n      {images.map((image, index) => (\r\n        <div key={`${type}-${index}`} className=\"relative group\">\r\n          <div className=\"aspect-square w-full overflow-hidden rounded-lg bg-gray-100\">\r\n            <img\r\n              src={type === 'new' ? image : image}\r\n              alt={`${type === 'new' ? 'New' : 'Product'} image ${index + 1}`}\r\n              className=\"h-full w-full object-cover\"\r\n              onError={(e) => { e.target.src = FALLBACK_IMAGE; }}\r\n            />\r\n          </div>\r\n          {!submitting && (\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => onRemove(index, type)}\r\n              className=\"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 shadow-lg hover:bg-red-600 opacity-0 group-hover:opacity-100 transition-opacity\"\r\n            >\r\n              <X size={16} />\r\n            </button>\r\n          )}\r\n          {type === 'new' && (\r\n            <div className=\"absolute bottom-2 left-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded\">\r\n              New\r\n            </div>\r\n          )}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n  \r\n  // Main render\r\n  if (loading) return <LoadingSpinner />;\r\n  if (productNotFound) return <NotFoundPage />;\r\n  \r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 py-6\">\r\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"bg-white rounded-lg shadow-md overflow-hidden\">\r\n          {/* Header */}\r\n          <div className=\"bg-white px-6 py-4 border-b border-gray-200\">\r\n            <div className=\"flex items-center\">\r\n              <button\r\n                onClick={handleGoBack}\r\n                className=\"flex items-center text-gray-600 hover:text-gray-800 mr-4 transition-colors\"\r\n                disabled={submitting}\r\n              >\r\n                <ChevronLeft size={20} />\r\n                <span className=\"ml-1\">Back</span>\r\n              </button>\r\n              <h1 className=\"text-2xl font-semibold text-gray-900\">Edit Product</h1>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"px-6 py-6\">\r\n            {/* Status Messages */}\r\n            {submitSuccess && (\r\n              <StatusMessage \r\n                type=\"success\" \r\n                message=\"Product updated successfully!\" \r\n                submessage=\"Redirecting to products list...\"\r\n              />\r\n            )}\r\n            \r\n            {submitError && (\r\n              <StatusMessage type=\"error\" message={submitError} />\r\n            )}\r\n            \r\n            {/* Form */}\r\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <FormField\r\n                  label=\"Product Name\"\r\n                  name=\"name\"\r\n                  required\r\n                  placeholder=\"Enter product name\"\r\n                />\r\n                \r\n                <FormField\r\n                  label=\"Category\"\r\n                  name=\"category\"\r\n                  type=\"select\"\r\n                  required\r\n                  placeholder=\"Select Category\"\r\n                  options={PRODUCT_CATEGORIES}\r\n                />\r\n                \r\n                <FormField\r\n                  label=\"Price\"\r\n                  name=\"price\"\r\n                  type=\"number\"\r\n                  required\r\n                  currency\r\n                  placeholder=\"0.00\"\r\n                  min=\"0\"\r\n                  step=\"0.01\"\r\n                />\r\n                \r\n                <FormField\r\n                  label=\"Original Price (Optional)\"\r\n                  name=\"slashed_price\"\r\n                  type=\"number\"\r\n                  currency\r\n                  placeholder=\"0.00\"\r\n                  min=\"0\"\r\n                  step=\"0.01\"\r\n                />\r\n                \r\n                <FormField\r\n                  label=\"Quantity\"\r\n                  name=\"quantity\"\r\n                  type=\"number\"\r\n                  required\r\n                  placeholder=\"Enter available quantity\"\r\n                  min=\"0\"\r\n                  className=\"md:col-span-2\"\r\n                />\r\n                \r\n                <FormField\r\n                  label=\"Description\"\r\n                  name=\"description\"\r\n                  type=\"textarea\"\r\n                  required\r\n                  placeholder=\"Enter product description\"\r\n                  className=\"md:col-span-2\"\r\n                />\r\n                \r\n                {/* Existing Images */}\r\n                {existingImages.length > 0 && (\r\n                  <div className=\"md:col-span-2\">\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-3\">\r\n                      Current Images ({existingImages.length})\r\n                    </label>\r\n                    <ImageGrid \r\n                      images={existingImages} \r\n                      type=\"existing\" \r\n                      onRemove={handleRemoveImage} \r\n                    />\r\n                  </div>\r\n                )}\r\n                \r\n                {/* Upload New Images */}\r\n                <div className=\"md:col-span-2\">\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    {existingImages.length > 0 ? 'Add More Images' : 'Product Images'}{' '}\r\n                    {existingImages.length === 0 && <span className=\"text-red-500\">*</span>}\r\n                  </label>\r\n                  \r\n                  <div className={`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${\r\n                    errors.images ? 'border-red-300 bg-red-50' : 'border-gray-300 hover:border-gray-400'\r\n                  }`}>\r\n                    <Upload className=\"mx-auto h-12 w-12 text-gray-400 mb-4\" />\r\n                    <div className=\"space-y-2\">\r\n                      <label htmlFor=\"images\" className=\"cursor-pointer text-blue-600 hover:text-blue-500 font-medium\">\r\n                        Choose files\r\n                        <input\r\n                          id=\"images\"\r\n                          name=\"images\"\r\n                          type=\"file\"\r\n                          ref={fileInputRef}\r\n                          className=\"hidden\"\r\n                          multiple\r\n                          accept=\"image/*\"\r\n                          onChange={handleImageChange}\r\n                          disabled={submitting}\r\n                        />\r\n                      </label>\r\n                      <p className=\"text-gray-500\">or drag and drop</p>\r\n                      <p className=\"text-sm text-gray-400\">\r\n                        PNG, JPG, WebP up to 2MB each (max {IMAGE_CONFIG.maxCount} total)\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  {errors.images && (\r\n                    <p className=\"mt-2 text-sm text-red-600\">{errors.images}</p>\r\n                  )}\r\n                  \r\n                  {/* New Image Previews */}\r\n                  {newImagePreviews.length > 0 && (\r\n                    <div className=\"mt-4\">\r\n                      <p className=\"text-sm font-medium text-gray-700 mb-3\">\r\n                        New Images ({newImages.length}):\r\n                      </p>\r\n                      <ImageGrid \r\n                        images={newImagePreviews} \r\n                        type=\"new\" \r\n                        onRemove={handleRemoveImage} \r\n                      />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Submit Buttons */}\r\n              <div className=\"flex justify-end space-x-3 pt-6 border-t border-gray-200\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={handleGoBack}\r\n                  className=\"px-6 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors\"\r\n                  disabled={submitting}\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={submitting || !hasChanges()}\r\n                  className={`px-6 py-2 border border-transparent rounded-md text-sm font-medium text-white transition-colors ${\r\n                    submitting || !hasChanges()\r\n                      ? 'bg-gray-400 cursor-not-allowed' \r\n                      : 'bg-blue-600 hover:bg-blue-700'\r\n                  }`}\r\n                >\r\n                  {submitting ? (\r\n                    <div className=\"flex items-center\">\r\n                      <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\r\n                        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" />\r\n                      </svg>\r\n                      Updating Product...\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"flex items-center\">\r\n                      <Save size={18} className=\"mr-2\" />\r\n                      Save Changes\r\n                      {!hasChanges() && <span className=\"ml-2 text-xs\">(No changes)</span>}\r\n                    </div>\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditProductPage;"],"names":["__iconNode","Upload","createLucideIcon","EditProductPage","id","useParams","navigate","useNavigate","fileInputRef","useRef","loading","setLoading","useState","submitting","setSubmitting","submitSuccess","setSubmitSuccess","submitError","setSubmitError","productNotFound","setProductNotFound","originalData","setOriginalData","errors","setErrors","formData","setFormData","newImages","setNewImages","newImagePreviews","setNewImagePreviews","existingImages","setExistingImages","PRODUCT_CATEGORIES","IMAGE_CONFIG","FALLBACK_IMAGE","formatCategoryName","category","word","parseApiResponse","response","jsonMatch","parseError","clearErrors","field","prev","validateImageFile","file","hasChanges","_a","useEffect","productService","productData","_b","_c","error","handleChange","e","name","value","handleImageChange","files","validFiles","invalidFiles","validation","errorMessage","f","reader","handleRemoveImage","index","type","_","i","validateForm","newErrors","rules","handleSubmit","newSlashedPrice","originalSlashedPrice","parsedResponse","handleGoBack","LoadingSpinner","jsx","NotFoundPage","jsxs","ChevronLeft","AlertCircle","StatusMessage","message","submessage","CheckCircle","FormField","label","required","placeholder","currency","rows","options","className","props","option","ImageGrid","images","onRemove","image","X","Save"],"mappings":"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","x_google_ignoreList":[0]}